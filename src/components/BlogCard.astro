---
import type { InferEntrySchema } from 'astro:content'

import { ArrowRight } from './icons/ArrowRight'
import Image from './Image'
import Link from './Link'

interface Props extends InferEntrySchema<'blog'> {
  slug: string
}

const { slug, title, description, heroImage } = Astro.props
---

<Link href={`blog/${slug}`} class='group flex gap-8 max-md:flex-col'>
  <Image
    src={heroImage}
    alt={title}
    align='center'
    class='aspect-[2] transition-all duration-800 group-hover:scale-105 md:aspect-[1.5]'
    wrapperProps={{ class: 'rounded-lg overflow-clip md:max-w-[280px]' }}
    inferSize
  />
  <div class='flex w-full flex-col justify-between lg:py-2'>
    <div class='font-light'>
      <div class='space-x-1 text-sm text-zinc-400'>
        <span>September 23, 2024</span>
        <span>â€¢</span>
        <span>15 min read</span>
      </div>
      <p
        class='font-display mt-3 line-clamp-2 text-lg font-semibold leading-[1.4] md:text-xl'
      >
        {title}
      </p>
      <p class='mt-2 line-clamp-2 text-zinc-400 max-md:text-sm'>
        {description}
      </p>
    </div>

    <div
      class='mt-4 flex justify-between gap-6 max-xs:flex-col-reverse xs:mt-6 xs:items-center'
    >
      <span
        class='link-hover-animation group-hover:link-hovered-animation w-fit text-sm text-emerald-400'
        >Read more
        <ArrowRight
          className='ml-1 inline-block transition-all duration-300 group-hover:ml-2'
        />
      </span>
      <ul class='flex flex-wrap gap-2'>
        {
          ['zod', 'typescript'].map((item) => (
            <li class='rounded bg-zinc-900 px-2 py-1 font-mono text-xs tracking-tight text-zinc-500'>
              {item}
            </li>
          ))
        }
      </ul>
    </div>
  </div>
</Link>

<style define:vars={{ offsetEnd: '24px' }}></style>
